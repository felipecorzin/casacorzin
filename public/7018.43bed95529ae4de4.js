"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7018],{7018:(U,h,i)=>{i.r(h),i.d(h,{AccountPageModule:()=>y});var c=i(6895),m=i(433),n=i(8008),g=i(5017),u=i(655),_=i(1135),a=i(5819),t=i(4650),v=i(9846),f=i(3071);function C(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6)(2,"ion-button",7),t.NdJ("tap",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.backButtonClickUser())}),t._UZ(3,"ion-icon",8),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"ion-title",10),t._uU(8," DeleteAccount "),t.qZA(),t.TgZ(9,"ion-buttons",11)(10,"ion-button",7),t.NdJ("tap",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.removeSelectedUser())}),t._UZ(11,"ion-icon",12),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,1,o.userItemCount))}}function A(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"ion-toolbar",13)(1,"ion-buttons",6),t._UZ(2,"ion-menu-button"),t.qZA(),t.TgZ(3,"ion-title"),t._UZ(4,"ion-img",14),t._uU(5," Account "),t.qZA(),t.TgZ(6,"ion-buttons",11)(7,"ion-button",15),t.NdJ("tap",function(s){t.CHM(o);const d=t.oxw();return t.KtG(d.menu(s))}),t._UZ(8,"ion-icon",16),t.qZA()()()}}const Z=function(e){return{"selected-user":e}};function b(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"ion-item-sliding",17),t.NdJ("press",function(){const d=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.selectUser(d.id))}),t.TgZ(1,"ion-item",18)(2,"ion-thumbnail",6),t._UZ(3,"ion-img",19),t.qZA(),t.TgZ(4,"ion-label")(5,"h2")(6,"b"),t._uU(7),t.qZA()(),t.TgZ(8,"h3",20)(9,"b"),t._uU(10),t.ALo(11,"date"),t.qZA()()()(),t.TgZ(12,"ion-item-options",11)(13,"ion-item-option",21),t.NdJ("tap",function(){const d=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.accountDetail(d.id))}),t._UZ(14,"ion-icon",22),t.qZA(),t.TgZ(15,"ion-item-option",23),t.NdJ("tap",function(){const d=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.accountUpdate(d.id))}),t._UZ(16,"ion-icon",24),t.qZA()()()}if(2&e){const o=l.$implicit,r=t.oxw();t.Q6J("ngClass",t.VKq(7,Z,r.selectedUser===o.id)),t.xp6(3),t.s9C("src",o.avatar),t.xp6(4),t.Oqu(o.name),t.xp6(3),t.Oqu(t.xi3(11,4,o.created,"short"))}}const T=[{path:"",component:(()=>{class e{constructor(o,r,s,d,p,P,M){this.router=o,this.cd=r,this.navCtrl=s,this.alertCtrl=d,this.popoverCtrl=p,this.uiService=P,this.userService=M,this.miranda=[],this.usuario={id:"",avatar:"",name:"",created:""},this.deleteUser=!1,this.userItemCount=new _.X(0)}ngOnInit(){this.loadUsers()}menu(o){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.popoverCtrl.create({mode:"md",event:o,backdropDismiss:!0,component:a.M})).present()})}loadUsers(){this.userService.getUsers().subscribe(o=>{console.log(o),this.usuarios=o,this.cd.detectChanges()})}accountDetail(o){this.navCtrl.navigateForward(`account-detail/${o}`)}accountUpdate(o){this.navCtrl.navigateForward(`account-update/${o}`)}clearUser(){this.selectedUser=null}selectUser(o){this.deleteUser=!0,this.selectedUser===o?this.clearUser():this.selectedUser=o,this.userToolbar(this.usuario)}userToolbar(o){let r=!1;for(let s of this.miranda)if(s.id===o.id){s.amount+=1,r=!0;break}r||(o.amount=1,this.miranda.push(o)),this.userItemCount.next(this.userItemCount.value+1)}removeSelectedUser(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Warning!!!",message:"You want to delete the user??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:r=>{console.log("Confirmado Cancelar: blah"),this.backButtonClickUser()}},{text:"OK",handler:()=>{console.log("Confirmado Aceptar"),this.userService.deleteUser(this.selectedUser).subscribe(r=>{this.clearUser(),this.loadUsers(),this.backButtonClickUser(),this.router.navigateByUrl("/",{replaceUrl:!0}),this.uiService.presentToast("Deleted partner")},r=>{console.log(r)})}}]})).present()})}backButtonClickUser(){this.clearUser(),this.deleteUser=!1}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.F0),t.Y36(t.sBO),t.Y36(n.SH),t.Y36(n.Br),t.Y36(n.Dh),t.Y36(v.F),t.Y36(f.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-account"]],decls:6,vars:3,consts:[[1,"ion-no-border"],["color","warning",4,"ngIf"],["color","secondary",4,"ngIf"],[1,"ion-padding"],[3,"ngClass","press",4,"ngFor","ngForOf"],["color","warning"],["slot","start"],[3,"tap"],["color","dark","slot","icon-only","md","arrow-back-sharp"],[1,"miranda-imagen-length"],[1,"miTitulo"],["slot","end"],["color","dark","slot","icon-only","md","trash-sharp"],["color","secondary"],["src","../../../assets/img/logo_small.png",1,"logo-header"],["fill","clear",3,"tap"],["md","ellipsis-vertical-sharp","slot","icon-only","color","light"],[3,"ngClass","press"],["button","","lines","none"],[3,"src"],[1,"ion-text-wrap"],["color","primary",3,"tap"],["md","eye-sharp","slot","icon-only","color","light"],["color","tertiary",3,"tap"],["md","create-sharp","slot","icon-only","color","light"]],template:function(o,r){1&o&&(t.TgZ(0,"ion-header",0),t.YNc(1,C,12,3,"ion-toolbar",1),t.YNc(2,A,9,0,"ion-toolbar",2),t.qZA(),t.TgZ(3,"ion-content",3)(4,"ion-list"),t.YNc(5,b,17,9,"ion-item-sliding",4),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("ngIf",r.deleteUser),t.xp6(1),t.Q6J("ngIf",!r.deleteUser),t.xp6(3),t.Q6J("ngForOf",r.usuarios))},dependencies:[c.mk,c.sg,c.O5,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Xz,n.Ie,n.u8,n.IK,n.td,n.Q$,n.q_,n.fG,n.Bs,n.wd,n.sr,c.Ov,c.uU]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(T),g.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,m.u5,n.Pc,x]}),e})()},9846:(U,h,i)=>{i.d(h,{F:()=>g});var c=i(655),m=i(4650),n=i(8008);let g=(()=>{class u{constructor(a,t){this.alertController=a,this.toastController=t}alertaInformativaLogin(a,t,v){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:a,subHeader:t,message:v,buttons:["OK"]})).present()})}alertaInformativa(a){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:a,buttons:["OK"]})).present()})}presentToast(a){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:a,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return u.\u0275fac=function(a){return new(a||u)(m.LFG(n.Br),m.LFG(n.yF))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);